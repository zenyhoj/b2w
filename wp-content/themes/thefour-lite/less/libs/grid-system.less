/**
 * 3.0 - Grid system
 *
 * -----------------------------------------------------------------------------
 */
// @link https://bitbucket.org/snippets/fitwp/j876g
.grid(@gutter: 5%) {
	// Variables
	@screen-sm-min: 768px;
	@screen-md-min: 992px;
	@screen-lg-min: 1200px;
	@screen-xs-max: (@screen-sm-min - 1);
	@screen-sm-max: (@screen-md-min - 1);
	@screen-md-max: (@screen-lg-min - 1);
	.clearfix() {
		&:before,
		&:after {
			content: " ";
			display: table;
		}
		&:after {
			clear: both;
		}
	}
	.row,
	.grid {
		margin: -@gutter 0 0 -@gutter;
		.clearfix();

		&.collapse {
			margin: 0;
		}
	}
	.column {
		position: relative;
		min-height: 1px;
		float: left;
		box-sizing: border-box;
		padding: @gutter 0 0 @gutter;

		// For extra small devices like smart phones: full width
		width: 100%;

		.collapse & {
			padding: 0;
		}
	}

	// From phones to tablets: collapses 4, 5 columns
	@media (min-width: @screen-sm-min) {
		// 2 columns
		.one-half,
		// 3, 4, 5 columns collapses to 2 columns
		.one-third,
		.two-third,
		.one-fourth,
		.two-fourth,
		.three-fourth,
		.one-fifth,
		.two-fifth,
		.three-fifth,
		.four-fifth {
			width: 100% / 2;
		}
	}

	// Desktop
	@media (min-width: @screen-md-min) {
		.one-third {
			width: 100% / 3;
		}
		.two-third {
			width: 100% * 2 / 3;
		}
		.one-fourth {
			width: 100% / 4;
		}
		.three-fourth {
			width: 100% * 3 / 4;
		}
		.one-fifth {
			width: 100% / 5;
		}
		.two-fifth {
			width: 100% * 2 / 5;
		}
		.three-fifth {
			width: 100% * 3 / 5;
		}
		.four-fifth {
			width: 100% * 4 / 5;
		}
	}

	// Clear float for grid
	.grid {
		.column {
			// From phones to tablets
			@media (min-width: @screen-sm-min) {
				&:nth-of-type(2n+1) {
					clear: left;
				}
			}

			// Desktop
			@media (min-width: @screen-md-min) {
				&:nth-of-type(2n+1) {
					clear: none;
				}
				&.one-half:nth-of-type(2n+1),
				&.one-third:nth-of-type(3n+1),
				&.one-fourth:nth-of-type(4n+1),
				&.one-fifth:nth-of-type(5n+1) {
					clear: left;
				}
			}
		}
	}
}
.grid(40px);
